(window.webpackJsonp=window.webpackJsonp||[]).push([["client"],{"./app/ui/client/index.js":function(e,t,n){"use strict";n.r(t);var a=n("./node_modules/jquery/dist/jquery.js"),o=n.n(a),i=n("./node_modules/url-search-params/build/url-search-params.node.js"),r=n("./node_modules/@shopify/marketing-assets/javascripts/index.js"),s={setIsSubscribedToEmailUpdate:function(e){var t=new Date(Date.now()+31536e7);r.cookieHelper.set("subscribed",Boolean(e),{expires:t.toUTCString(),path:"/"})},getIsSubscribedToEmailUpdate:function(){return r.cookieHelper.get("subscribed")}},c="external_referrer",d=document.referrer,l=new Date(Date.now()+31536e7);function u(){return r.cookieHelper.get(c)}var p={setReferrer:function(){d&&0===d.indexOf(location.protocol+"//"+location.host)?r.cookieHelper.set("internal_referrer",d.replace(location.protocol+"//"+location.host,""),{expires:l.toUTCString(),path:"/"}):u()||r.cookieHelper.set(c,d,{expires:l.toUTCString(),path:"/"})},getExternalReferrer:function(){return u()},getInternalReferrer:function(){return r.cookieHelper.get("internal_referrer")}},m=n("./node_modules/babel-runtime/helpers/classCallCheck.js"),h=n.n(m),f=n("./node_modules/babel-runtime/helpers/createClass.js"),b=n.n(f),g=function(){function e(t){var n=this;h()(this,e),t.length&&(this.$templateHtml=t,this.modal=new r.Modal(o()(null),function(){return n.$templateHtml.first().get(0).outerHTML},{preventEventDefault:!1,afterModalRender:this._afterModalRender.bind(this)}))}return b()(e,[{key:"open",value:function(e){if(this.success=e.success,this.skipped=e.skipped,!this.$templateHtml)throw new Error("Couldn't open modal because the supplied modal template could not be found in the DOM");this.$templateHtml.find(".membership-waitlist-modal__image").css("background-image","url("+e.imageUrl+")"),this.$templateHtml.find(".membership-waitlist-modal__heading").text(e.heading),this.$templateHtml.find(".subscribe__success__heading").text(e.successHeading),this.$templateHtml.find(".subscribe__submit").text(e.cta),e.secondaryCta?this.$templateHtml.find(".membership-waitlist-modal__secondary-cta").text(e.secondaryCta).show():this.$templateHtml.find(".membership-waitlist-modal__secondary-cta").hide(),this.modal.open()}},{key:"_afterModalRender",value:function(e){var t=this,n=e.find(".js-subscribe-with-tracker");new r.Subscribe(n,{onSuccess:function(){s.setIsSubscribedToEmailUpdate(!0),t.modal.close(),t.success()}}),e.find(".membership-waitlist-modal__secondary-cta").on("click",function(){t.modal.close(),t.skipped()})}}]),e}(),v=Object.freeze({TILE_CLICK:{name:"tile_click",triggerEvent:"click",nonInteraction:!1},TILE_VIEW:{name:"tile_view",triggerEvent:"lazybeforeunveil",nonInteraction:!0}}),_=function(){function e(t,n){var a=this;h()(this,e),this.customNamespace=r.config.get("customGoogleAnalyticsNamespace",null),t.on(n.triggerEvent,function(){var e=t.data("photoId"),o=t.data("categoryHandle"),i={hitType:"event",eventCategory:"PhotoStat",eventAction:n.name,eventLabel:"",eventValue:n.value,nonInteraction:n.nonInteraction,dimension1:e.toString(),dimension2:window.Burst.urlLocale,dimension3:o||null,dimension5:window.Burst.abTestGroup};a.trackGaEvent(i)})}return b()(e,[{key:"trackGaEvent",value:function(e){o.a.isFunction(window._gaUTracker)&&(window._gaUTracker("send",e),this.customNamespace&&window._gaUTracker(this.customNamespace+".send",e))}}]),e}();function w(e){var t=this;this.$carousel=e,this.$contentWrapper=this.$carousel.find(".js-scrollable-carousel-content-wrapper"),this.$previous=this.$carousel.find(".js-previous"),this.$next=this.$carousel.find(".js-next"),this.$images=this.$contentWrapper.find("img"),this.onAllImagesHaveClientWidth(function(){t.setWidth(),t.handleScroll()}),this.$contentWrapper.on("scroll",r.utils.debounce(this.handleScroll.bind(this),100)),o()(window).on("resize",r.utils.debounce(this.setWidth.bind(this),100)),this.$next.on("click",this.handleNext.bind(this)),this.$previous.on("click",this.handlePrevious.bind(this))}w.prototype.handleScroll=function(){var e=this.$contentWrapper[0].scrollLeft,t=this.$contentWrapper[0].scrollWidth;e<=5?this.$previous.prop("disabled",!0):this.$previous.prop("disabled",!1),e>=t-this.contentWrapperWidth-5?this.$next.prop("disabled",!0):this.$next.prop("disabled",!1)},w.prototype.setWidth=function(){this.contentWrapperWidth=this.$contentWrapper[0].clientWidth;var e=this.$contentWrapper[0].scrollWidth;this.contentWrapperWidth<e?this.$next.prop("disabled",!1):this.$next.prop("disabled",!0)},w.prototype.handleNext=function(){this.$contentWrapper.animate({scrollLeft:this.$contentWrapper[0].scrollLeft+this.contentWrapperWidth-150},{duration:300,queue:!1})},w.prototype.handlePrevious=function(){this.$contentWrapper.animate({scrollLeft:this.$contentWrapper[0].scrollLeft-this.contentWrapperWidth+150},{duration:300,queue:!1})},w.prototype.onAllImagesHaveClientWidth=function(e){this.checkImageWidthInterval=500,this.checkImageWidthTimeout=3e3,this.timePassedSinceInitialization=0,this.callback=e,0!==this.$images.length?this.runImageWidthChecker():e()},w.prototype.runImageWidthChecker=function(){this.timePassedSinceInitialization+=this.checkImageWidthInterval,this.checkAllImagesHaveClientWidth()||this.timePassedSinceInitialization>=this.checkImageWidthTimeout?this.callback():setTimeout(this.runImageWidthChecker.bind(this),this.checkImageWidthInterval)},w.prototype.checkAllImagesHaveClientWidth=function(){var e=!0;return this.$images.each(function(t,n){0!==n.clientWidth&&void 0!==n.clientWidth||(e=!1)}),e};var k=w;n("./node_modules/jquery-typeahead/dist/jquery.typeahead.min.js");function y(e){var t=this;this.$form=e,this.handleSubmit.bind(this),this.$form.on("submit",this.handleSubmit),this.$form.find(".js-typeahead").typeahead({maxItem:8,maxItemPerGroup:5,cancelButton:!1,group:{template:"{{group}}"},source:{photos:{minLength:1,data:window.Burst.searchAutocompleteSuggestions,href:function(e){return"/photos/search?q="+encodeURIComponent(e.display)}},photographers:{minLength:3,display:["name","username"],data:window.Burst.searchPhotographerSuggestions,href:function(e){return e.url},template:'{{name}} <span class="search-form__suggestion-misc">@{{username}}</span>'}},callback:{onShowLayout:function(){t.$form.find(".search-form__suggestions-wrapper").show()},onHideLayout:function(){t.$form.find(".search-form__suggestions-wrapper").hide()}},selector:{result:"search-form__suggestions-wrapper",list:"search-form__suggestions-list",item:"search-form__suggestion",group:"search-form__group-header"}})}y.prototype.handleSubmit=function(e){var t=o()(e.currentTarget).find('[name="q"]');o.a.trim(t.val())||e.preventDefault()};var j=y;function I(e){var t=e;return 0===e.indexOf("//")&&(t=location.protocol+e),t.toLowerCase().replace(/([a-z])?:\/\//,"$1").split("/")[0]}var C=function(){function e(t){var n=this;h()(this,e),this.TILE_OVERLAY_VISIBLE_CLASS="tile__overlay--is-visible",this.$element=t;var a=t.find(".tile__overlay"),o=t.find(".tile__overlay-trigger"),i=t.find(".tile__overlay-close");o.on("click",function(){n.renderCredit(),a.addClass(n.TILE_OVERLAY_VISIBLE_CLASS)}),i.on("click",function(){a.removeClass(n.TILE_OVERLAY_VISIBLE_CLASS)})}return b()(e,[{key:"renderCredit",value:function(){var e,t=this.$element.find(".give-credit"),n=t.data(),a=n.authorName,i=n.creditAuthorUrl,s=n.creditCategoryUrl,c=o()("<a>").attr("href",s).text("Burst").prop("outerHTML"),d=void 0;if(i){var l=o()("<a>").attr("href",i).text(a);((e=i).indexOf(":")>-1||e.indexOf("//")>-1)&&I(location.href)!==I(e)&&l.attr({rel:"nofollow noopener",target:"_blank"}),d=l.prop("outerHTML")}else d=a;t.find("[data-text-give-credit]").text(r.i18n.t("credit.give_credit",{author:a})),t.find("[data-text-credit-html]").html(r.i18n.t("credit.credit_html",{author:d,burst:c}))}}]),e}(),x=n("./node_modules/dropzone/dist/dropzone.js"),S=n.n(x),$=function(){function e(t,n,a,i){var r=this,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:function(){};h()(this,e),this.$template=o()(t),this.options=Object.assign({paramName:function(){return"image_files[]"},params:null,maxFiles:10,parallelUploads:10,acceptedFiles:".jpg,.jpeg",maxFilesize:30},a),this._updatePrompt=this._updatePrompt.bind(this);var c=this.$template.find(".dropzone-preview-template .dropzone-preview");this.options.parallelUploads<this.options.maxFiles&&c.addClass("dropzone-preview--parallel-upload"),this.dropzone=new S.a(t,Object.assign({},this.options,{url:n,maxThumbnailFilesize:this.options.maxFilesize,parallelUploads:this.options.parallelUploads,autoProcessQueue:!1,uploadMultiple:!0,timeout:6e5,previewTemplate:c[0].outerHTML,previewsContainer:this.$template.find(".dropzone-previews")[0],clickable:[t,this.$template.find(".dropzone-upload-prompt")[0]],accept:function(e,t){t(),r._updatePrompt()}})),this.uploadHasError=!1,this.dropzone.on("addedfile",this._updatePrompt),this.dropzone.on("removedfile",this._updatePrompt),this.dropzone.on("maxfilesexceeded",function(e){r.dropzone.removeFile(e)}),this.dropzone.on("error",function(){r.uploadHasError=!0}),this.dropzone.on("complete",function(e){e.accepted&&r.dropzone.getQueuedFiles().length>0&&r.dropzone.processQueue()}),this.dropzone.on("queuecomplete",function(){s(),r.uploadHasError||i()})}return b()(e,[{key:"processUpload",value:function(){this.uploadHasError=!1,this.dropzone.files.forEach(function(e){e.accepted&&(e.status="queued")}),this.dropzone.processQueue()}},{key:"getAcceptedFilesCount",value:function(){return this.dropzone.getAcceptedFiles().length}},{key:"_updatePrompt",value:function(){var e=this.dropzone.files.length,t=this.dropzone.getAcceptedFiles().length,n=this.$template.find(".dropzone-prompt"),a=this.$template.find(".dropzone-upload-count"),o=this.$template.find(".dropzone-upload-prompt");0===e?n.hide():n.show(),t<this.options.maxFiles?o.show():o.hide(),a.text(r.i18n.t("dropzone.upload_count",{count:t,max:this.options.maxFiles}))}}]),e}(),U=n("./node_modules/clipboard/lib/clipboard.js"),T=n.n(U);var H=function(e){new T.a(e,{text:function(e){var t=o()(e).data("clipboard-target-selector");return o()(t).html().trim()}}).on("success",function(e){var t=o()(e.trigger).data("success-text");o()(e.trigger).text(t)})};var W=function(e,t){if(t.length){var n=t.first().get(0).outerHTML;new r.Modal(e,function(){return n},{clickingOverlayClosesModal:!1,afterModalRender:function(e){var t=e.find("form"),n=o()('meta[name="csrf-param"]').prop("content"),a=o()('meta[name="csrf-token"]').prop("content"),i={};i[n]=a;var s=new $(t.find(".dropzone")[0],t.data("photo-submissions-path"),{params:function(){return i}},function(){t.find(".contributor-application-modal__form-content").addClass("hidden"),t.find(".contributor-application-modal__success-message").removeClass("hidden")},function(){t.find(".contributor-application-modal__form-content").removeClass("marketing-form--is-loading"),t.find(".contributor-application-modal__submit").prop("disabled",!1)});new r.AjaxForm(t,[{name:"contributor_application[email]",fn:r.FormsApi.validateEmail},{name:"uploads_validation",fn:function(){var e={};return s.getAcceptedFilesCount()<=0&&(e.no_uploads=!0),e}},{name:"contributor_application[country]",fn:function(e){var n={};return"Other"===e&&(t.find(".contributor-application-modal__invalid-country").removeClass("hidden"),n.invalid_country=!0),n}},{name:"agree_to_service_terms",fn:function(e){var t={};return"0"===e&&(t.must_agree=!0),t}}],{i18nScope:"contributor_application_modal.errors",onSuccess:function(e){var n=e.responseJSON.data.contributor_application_id;i.contributor_application_id=n,t.find(".marketing-form__messages").text(""),t.find(".contributor-application-modal__form-content").addClass("marketing-form--is-loading"),t.find(".contributor-application-modal__submit").prop("disabled",!0),s.processUpload(),r.analytics.track("ContributorApplicationModal","Submission")}})}})}};var E=function(e,t,n){if(t.length){var a=t.first().get(0).outerHTML,o=new r.Modal(e,function(){return a},{clickingOverlayClosesModal:!1});!0===n&&o.open()}},z=n("./node_modules/masonry-layout/masonry.js"),L=n.n(z);var A=function(e,t){var n=[];o()(e).each(function(e,a){n[e]=new L.a(a,{columnWidth:t,itemSelector:t,percentPosition:!0,transitionDuration:50})}),o()(window).on("resize",r.utils.debounce(function(){o()(n).each(function(e,t){t.layout()})},10))};var M=function(){S.a.autoDiscover=!1};var P=function(){var e=o()('meta[name="csrf-param"]').prop("content"),t=o()('meta[name="csrf-token"]').prop("content"),n={};n[e]=t,o()(".js-author-upload").each(function(e,t){var a=o()(t),i=a.find(".dropzone")[0],r=a.data("author-photo-submissions-path"),s=a.data("author-id"),c=a.find(".js-author-upload__success-show"),d=a.find(".js-author-upload__success-hide"),l=a.find(".js-author-upload__submit"),u={params:n,maxFiles:50,parallelUploads:2};c.addClass("hidden"),n.author_id=s;var p=new $(i,r,u,function(){d.addClass("hidden"),c.removeClass("hidden")},function(){l.prop("disabled",!1)});l.on("click",function(){p.processUpload(),l.prop("disabled",!0)})})};r.config.set("customGoogleAnalyticsNamespace","_burst"),r.config.set("defaultGoogleAnalyticsEventData",{dimension5:window.Burst.abTestGroup}),Object(r.init)(),M(),H(".js-copy-to-clipboard"),A(".js-masonry-grid",".grid__item"),W(o()(".js-open-contributor-application-modal"),o()(".js-contributor-application-modal-template")),P(),E(o()(".js-open-contributor-contest-finished-modal"),o()(".js-contributor-contest-finished-modal-template"),!0);function N(e,t){(e?e.find(".js-subscribe-with-tracker"):o()(".js-subscribe-with-tracker")).each(function(e,n){new r.Subscribe(o()(n),{onSuccess:function(){s.setIsSubscribedToEmailUpdate(!0),t&&t(n)}})})}function D(e){var t=e.split("?"),n=new i(t[1]);n.append("quality","premium"),window.location.href=t[0]+"?"+n.toString()}function F(e){window.location.href=e}function G(e){window.location.href=e}function R(e,t,n,a){var o=["Download",n,e];t&&o.push("Modal"),r.analytics.track("Photo",o.join(": "),a)}function B(e,t,n){var a=["Download",e];t&&a.push("Modal"),r.analytics.track("Business Idea",a.join(": "),n)}function O(){return s.getIsSubscribedToEmailUpdate()||!0}new r.StickyNav({pageTopMargin:30}),new r.Announcement(o()(".announcement--webinar"),{announcementId:"webinar"}),p.setReferrer(),o()(".js-track-photo-stat-click").each(function(e,t){new _(o()(t),v.TILE_CLICK)}),o()(".js-track-photo-stat-view").each(function(e,t){new _(o()(t),v.TILE_VIEW)}),o()(".article-page__sidebar__sticky-menu").each(function(e,t){""===window.location.hash&&o()(t).find(".sticky-menu-link").first().addClass("js-is-active")}),o()(".js-subscribe--signup-page").each(function(e,t){o()(t).val(window.Burst.request.path)}),o()(".js-subscribe--signup-url").each(function(e,t){o()(t).val(window.Burst.request.url)}),o()(".js-subscribe--country").each(function(e,t){o()(t).val(window.Burst.country)}),o()(".js-subscribe--browser-locale").each(function(e,t){o()(t).val(navigator.language)}),o()(".js-subscribe--url-locale").each(function(e,t){o()(t).val(window.Burst.urlLocale)}),o()(".js-subscribe--external-referrer").each(function(e,t){o()(t).val(p.getExternalReferrer())}),o()(".js-subscribe--internal-referrer").each(function(e,t){o()(t).val(p.getInternalReferrer())}),N(),o()(".js-scrollable-carousel").each(function(e,t){new k(o()(t))}),o()(".js-product-carousel").each(function(e,t){new r.Carousel(o()(t))}),o()(".js-accordion").each(function(e,t){new r.Accordion(o()(t),{mobileOnly:!1,itemSelector:".accordion-item"})}),o()(".js-email").each(function(e,t){var n=o()(t).data("domain")||"shopify.com",a=o()(t).data("username"),i=o()(t).data("subject"),r=o()(t).data("body");o()(t).on("click",function(){window.location.href="mailto:"+a+"@"+n.substring(0)+"?"+o.a.param({subject:i,body:r})})}),o()(".js-search-form").each(function(e,t){new j(o()(t))});var q=new g(o()(".js-membership-waitlist-modal-template"));if(o()(".tile--with-overlay").each(function(e,t){new C(o()(t))}),o()(".js-download-starterkit").on("click",function(e){e.preventDefault();var t=o()(e.currentTarget);if(s.getIsSubscribedToEmailUpdate())return B(t.data("downloadGaUiName"),!1,t.data("businessIdeaTitle")),void G(t.data("downloadUrl"));e.stopImmediatePropagation(),q.open({imageUrl:t.data("modalImageUrl"),heading:t.data("modalHeading"),successHeading:t.data("modalSuccessHeading"),cta:t.data("modalCta"),secondaryCta:!1,success:function(){B(t.data("downloadGaUiName"),!0,t.data("businessIdeaTitle")),G(t.data("downloadUrl"))}})}),o()(".js-download-premium").on("click",function(e){var t=o()(e.currentTarget),n=t.data("photoTitle");if(O())return R(t.data("downloadGaUiName"),!1,"Premium",n),void D(t.data("downloadUrl"));e.stopImmediatePropagation(),q.open({imageUrl:t.data("modalImageUrl"),heading:t.data("modalHeading"),successHeading:t.data("modalSuccessHeading"),cta:t.data("modalCta"),secondaryCta:t.data("modalSecondaryCta"),success:function(){R(t.data("downloadGaUiName"),!0,"Premium",n),D(t.data("downloadUrl"))},skipped:function(){R(t.data("downloadGaUiName"),!0,"Standard",n),F(t.data("downloadUrl"))}})}),o()(".js-track-photo-download-standard").on("click",function(e){var t=o()(e.currentTarget);R(t.data("downloadGaUiName"),!1,"Standard",t.data("photoTitle"))}),o()(".js-download-selected-quality").on("submit",function(e){var t=o()(e.currentTarget),n=t.find('input[name="quality"]:checked').val(),a=t.data("photoTitle");o()(".photo__centered-frame__overlay").addClass("active"),"premium"===n?O()?R(t.data("downloadGaUiName"),!1,"Premium",a):(e.preventDefault(),e.stopImmediatePropagation(),q.open({imageUrl:t.data("modalImageUrl"),heading:t.data("modalHeading"),successHeading:t.data("modalSuccessHeading"),cta:t.data("modalCta"),secondaryCta:t.data("modalSecondaryCta"),success:function(){R(t.data("downloadGaUiName"),!0,"Premium",a),D(t.attr("action"))},skipped:function(){R(t.data("downloadGaUiName"),!0,"Standard",a),F(t.attr("action"))}})):R(t.data("downloadGaUiName"),!1,"Standard",a)}),o()(".js-send-and-subscribe__submit").on("click",function(e){var t=o()(e.currentTarget).parents(".send-and-subscribe"),n=t.find(".js-send-and-subscribe__checkbox"),a=encodeURIComponent(t.find(".send-and-subscribe__email").val()),i=encodeURIComponent(t.data("emailSubject")),r=encodeURIComponent(t.data("emailBody"));n.is(":checked")||e.preventDefault(),window.location.href="mailto:"+a+"?subject="+i+"&body="+r}),o()(".js-contextual-subscribe-modal-template").length&&!s.getIsSubscribedToEmailUpdate()){var V=o()(".js-contextual-subscribe-modal-template").first().get(0).outerHTML,Q=new r.Modal(o()(null),function(){return V},{preventEventDefault:!1,afterModalRender:function(e){N(e)}});o()(".js-open-contextual-subscribe-modal").on("click",function(){Q.open()}),o()(".js-open-contextual-subscribe-modal-on-third").on("click",function(){var e=new Date(Date.now()+31536e7),t=r.cookieHelper.get("downloads")||0;r.cookieHelper.set("downloads",++t,{expires:e.toUTCString(),path:"/"}),t%3!=1||s.getIsSubscribedToEmailUpdate()||Q.open()})}},3:function(e,t,n){n("./node_modules/regenerator-runtime/runtime.js"),e.exports=n("./app/ui/client/index.js")}},[[3,"runtime","vendors~client~contributorApplication~dashy~sandbox","vendors~client"]]]);